Install grid and oracle  db 12c
Copy v840012-01.zip
Copy V839960-01.zip
user root:
yum install -y cloog-ppl libXxf86misc
yum install -y compat-libcap1 libXxf86vm
yum install -y compat-libstdc++-33 libaio-devel
yum install -y cpp libdmx
yum install -y gcc libstdc++-devel
yum install -y gcc-c++ mpfr
yum install -y glibc-devel make
yum install -y glibc-headers ppl
yum install -y kernel-headers xorg-x11-utils
yum install -y libXmu xorg-x11-xauth
yum install -y libXt libXv
yum install -y ksh libXxf86dga
yum install -y elfutils-libelf-devel
yum install -y sysstat
yum install -y smartmontools
yum install -y nfs-utils
yum install -y unzip
yum install -y net-tools

yum install kmod-oracleasm -y 
yum install oracleasm-support -y

###############physical servers only
yum install -y device-mapper-multipath 
systemctl enable multipathd
systemctl start multipathd
/sbin/mpathconf --enable
systemctl restart multipathd
multipath -ll
###############physical servers only - END

vi /etc/hosts => IP hostname.domain hostname 



free -b
getconf PAGE_SIZE
SHMALL = TOTAL RAM IN BYTES / PAGE_SIZE
SHMMAX = HALF OF TOTAL RAM IN BYTES
SHMMNI = PAGE_SIZE
67248271360
4096




vi /etc/sysctl.conf =>

vm.swappiness = 0
vm.dirty_background_ratio = 3
vm.dirty_ratio = 80
vm.dirty_expire_centisecs = 500
vm.dirty_writeback_centisecs = 100
kernel.shmmax = 33624135680
kernel.shmall = 16418035
kernel.shmmni = 4096
kernel.sem = 250 32000 100 128
net.ipv4.ip_local_port_range = 9000 65500
net.core.rmem_default = 262144
net.core.rmem_max = 4194304
net.core.wmem_default = 262144
net.core.wmem_max = 1048576
fs.aio-max-nr = 1048576
fs.file-max = 6815744
--------
sysctl -p


groupadd oinstall
groupadd dba
groupadd asmdba
groupadd asmoper
groupadd asmadmin
groupadd oper
useradd -g oinstall -G dba,oper,asmdba,asmoper oracle
useradd -g oinstall -G dba,asmadmin,asmdba,asmoper grid

passwd grid

passwd oracle

--if user oracle & grid exist
#usermod -g oinstall -G dba,oper,asmdba,asmoper oracle
#usermod -g oinstall -G dba,asmadmin,asmdba,asmoper grid

mkdir /u01
mkdir /u01/app
mkdir /u01/app/oracle
mkdir /u01/app/grid
mkdir /u01/app/grid_base
chown -R grid:oinstall /u01 
chown -R oracle:oinstall /u01/app/oracle




unzip /source/V840012-01.zip -d /u01/app/grid
unzip /source/V839960-01.zip -d /home/oracle


rpm -ivh /u01/app/grid/cv/rpm/cvuqdisk-1.0.10-1.rpm


vi /etc/security/limits.d/99-grid-oracle-limits.conf
=>
oracle soft nproc 2047
oracle hard nproc 16384
oracle soft nofile 1024
oracle hard nofile 65536
oracle soft stack 10240
oracle hard stack 32768
grid soft nproc 2047
grid hard nproc 16384
grid soft nofile 1024
grid hard nofile 65536
grid soft stack 10240
grid hard stack 32768
---


ulimit -a ????



vi /etc/profile.d/oracle-grid.sh =>

#Setting the appropriate ulimits for oracle and grid user
if [ $USER = "oracle" ]; then
	if [ $SHELL = "/bin/ksh" ]; then
		ulimit -u 16384
		ulimit -n 65536
	else
		ulimit -u 16384 -n 65536
	fi
fi
if [ $USER = "grid" ]; then
	if [ $SHELL = "/bin/ksh" ]; then
		ulimit -u 16384
		ulimit -n 65536
	else
		ulimit -u 16384 -n 65536
	fi
fi
-------------

/usr/sbin/oracleasm configure -i
grid
asmadmin
y
y

#OL6 or below
/etc/init.d/oracleasm enable
/etc/init.d/oracleasm start
#OL7
systemctl enable oracleasm.service
systemctl start oracleasm.service

fdisk /dev/{sdb} ?????????
p
n
w
d
+10G

/usr/sbin/oracleasm createdisk DATA100 /dev/sda12
/usr/sbin/oracleasm createdisk DATA101 /dev/sdb2
/usr/sbin/oracleasm createdisk DATA102 /dev/sdb3
/usr/sbin/oracleasm createdisk DATA103 /dev/sdb5
/usr/sbin/oracleasm createdisk DATA204 /dev/sdb6
/usr/sbin/oracleasm createdisk DATA205 /dev/sdb7
/usr/sbin/oracleasm createdisk DATA206 /dev/sdb8
 
 
 
  
 /usr/sbin/oracleasm scandisks
 
 /usr/sbin/oracleasm listdisks



vi /home/grid/.bash_profile

user:grid
export DISPLAY=172.50.251.168:0.0
cd /u01/app/grid
./gridSetup.sh

choise 1 for rac installation
choise 2 for single instance installation
---------------
external
change discovery path: /dev/oracleasm/disks

user: 
 
 
 vi /etc/resolv.conf
# Generated by NetworkManager
search enb.local
nameserver 172.50.251.10



yum install -y bind-utils



nslookup dbtestnode1.enb.local
 
 
 

firewall-cmd --permanent --new-zone=enb_apps
firewall-cmd --reload
firewall-cmd --permanent --zone=enb_apps --add-source=172.50.251.168/32
firewall-cmd --reload
firewall-cmd --permanent --zone=enb_apps --add-port=1525/tcp
firewall-cmd --reload
firewall-cmd --zone=enb_apps --list-source-ports



firewall-cmd --permanent --zone=public --add-port=1525/tcp

export DISPLAY=172.50.251.168:0.0
 echo $DISPLAY